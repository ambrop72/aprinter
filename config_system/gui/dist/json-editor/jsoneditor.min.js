/*! JSON Editor v0.7.10 - JSON Schema -> HTML Editor
 * By Jeremy Dorn - https://github.com/jdorn/json-editor/
 * Released under the MIT license
 *
 * Date: 2014-09-15
 */
!function(){var a;!function(){var b=!1,c=/xyz/.test(function(){window.postMessage("xyz")})?/\b_super\b/:/.*/;return a=function(){},a.extend=function(a){function d(){!b&&this.init&&this.init.apply(this,arguments)}var e=this.prototype;b=!0;var f=new this;b=!1;for(var g in a)f[g]="function"==typeof a[g]&&"function"==typeof e[g]&&c.test(a[g])?function(a,b){return function(){var c=this._super;this._super=e[a];var d=b.apply(this,arguments);return this._super=c,d}}(g,a[g]):a[g];return d.prototype=f,d.prototype.constructor=d,d.extend=arguments.callee,d},a}(),function(){function a(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c}a.prototype=window.Event.prototype,window.CustomEvent=a}(),function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),function(){Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)})}();var b=function(a){if(a.constructor&&!a.hasOwnProperty("constructor")&&!a.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!1;var b;for(b in a);return void 0===b||a.hasOwnProperty(b)},c=function(a){var d,e,f;for(e=1;e<arguments.length;e++){d=arguments[e];for(f in d)d.hasOwnProperty(f)&&(d[f]&&b(d[f])?(a.hasOwnProperty(f)||(a[f]={}),c(a[f],d[f])):a[f]=d[f])}return a},d=function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b},e=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},f=function(a,c,g){if(e(a)&&c.length>g)return f(c[g],c,g+1);for(var h=!1,i=g;i<c.length;i++){var j=c[i];for(var k in j)if(j.hasOwnProperty(k)){var l;l=a.hasOwnProperty(k)&&b(a[k])&&b(j[k])?f(a[k],[j[k]],0):j[k],a.hasOwnProperty(k)&&l===a[k]||(h||(a=d(a),h=!0),a[k]=l)}}return a},g=function(a){return f(a,arguments,1)},h=function(a,b){if(a){var c;if("undefined"!=typeof a.length){for(c=0;c<a.length;c++)if(b(c,a[c])===!1)return}else for(c in a)if(a.hasOwnProperty(c)&&b(c,a[c])===!1)return}},i=function(a,b){var c=document.createEvent("HTMLEvents");c.initEvent(b,!0,!0),a.dispatchEvent(c)},j=function(a,b){return a.hasOwnProperty(b)},k=function(a,b){return a.hasOwnProperty(b)?a[b]:void 0},l=function(a){for(var b=1;b<arguments.length;b++){if(!a.hasOwnProperty(arguments[b]))return void 0;a=a[arguments[b]]}return a},m=function(a){return"undefined"==typeof a},n=function(a){return null!==a&&"object"==typeof a},o=function(a,b){this.element=a,this.options=g(o.defaults.options,b||{}),this.init()};o.prototype={init:function(){var a=this;this.destroyed=!1,this.firing_change=!1;var b=o.defaults.themes[this.options.theme||o.defaults.theme];if(!b)throw"Unknown theme "+(this.options.theme||o.defaults.theme);this.schema=this.options.schema,this.theme=new b,this.template=this.options.template;var c=o.defaults.iconlibs[this.options.iconlib||o.defaults.iconlib];c&&(this.iconlib=new c),this.root_container=this.theme.getContainer(),this.element.appendChild(this.root_container),this.translate=this.options.translate||o.defaults.translate;var d=a.getEditorClass(a.schema);a.root=a.createEditor(d,{jsoneditor:a,schema:a.schema,required:!0,container:a.root_container}),a.root.build(),a.options.startval&&a.root.setValue(a.options.startval),a._scheduleChange()},getValue:function(){if(this.destroyed)throw"JSON Editor destroyed";return this.root.getFinalValue()},setValue:function(a){if(this.destroyed)throw"JSON Editor destroyed";return this.root.setValue(a),this},destroy:function(){this.destroyed||(this.schema=null,this.options=null,this.root.destroy(),this.root=null,this.root_container=null,this.theme=null,this.iconlib=null,this.template=null,this.element.innerHTML="",this.destroyed=!0)},on:function(a,b){this.callbacks=this.callbacks||{},this.callbacks[a]=this.callbacks[a]||[],this.callbacks[a].push(b)},off:function(a,b){if(a&&b){this.callbacks=this.callbacks||{},this.callbacks[a]=this.callbacks[a]||[];for(var c=[],d=0;d<this.callbacks[a].length;d++)this.callbacks[a][d]!==b&&c.push(this.callbacks[a][d]);this.callbacks[a]=c}else a?(this.callbacks=this.callbacks||{},this.callbacks[a]=[]):this.callbacks={}},trigger:function(a){if(this.callbacks&&this.callbacks[a]&&this.callbacks[a].length)for(var b=0;b<this.callbacks[a].length;b++)this.callbacks[a][b]()},getEditorClass:function(a){var b;if(h(o.defaults.resolvers,function(c,d){var e=d(a);return e&&o.defaults.editors[e]?(b=e,!1):void 0}),!b)throw"Unknown editor for schema "+JSON.stringify(a);if(!o.defaults.editors[b])throw"Unknown editor "+b;return o.defaults.editors[b]},createEditor:function(a,b){return a.options&&(b=g(a.options,b)),new a(b)},_scheduleChange:function(){var a=this;a.firing_change||(a.firing_change=!0,window.requestAnimationFrame(function(){a.destroyed||(a.firing_change=!1,a.trigger("change"))}))},onChange:function(){var a=this;a.destroyed||a._scheduleChange()},compileTemplate:function(a,b){b=b||o.defaults.template;var c;if("string"==typeof b){if(!o.defaults.templates[b])throw"Unknown template engine "+b;if(c=o.defaults.templates[b](),!c)throw"Template engine "+b+" missing required library."}else c=b;if(!c)throw"No template engine set";if(!c.compile)throw"Invalid template engine set";return c.compile(a)},registerEditor:function(a){return this.editors=this.editors||{},this.editors[a.path]=a,this},unregisterEditor:function(a){return this.editors=this.editors||{},this.editors[a.path]=null,this},getEditor:function(a){return this.editors?this.editors[a]:void 0},doWatch:function(a,b){return this.watchlist=this.watchlist||{},this.watchlist[a]=this.watchlist[a]||[],this.watchlist[a].push(b),this},doUnwatch:function(a,b){if(!this.watchlist||!this.watchlist[a])return this;if(!b)return this.watchlist[a]=null,this;for(var c=[],d=0;d<this.watchlist[a].length;d++)this.watchlist[a][d]!==b&&c.push(this.watchlist[a][d]);return this.watchlist[a]=c.length?c:null,this},notifyWatchers:function(a){if(!this.watchlist||!this.watchlist[a])return this;for(var b=0;b<this.watchlist[a].length;b++)this.watchlist[a][b]()},isEnabled:function(){return!this.root||this.root.isEnabled()},enable:function(){this.root.enable()},disable:function(){this.root.disable()}},o.defaults={themes:{},templates:{},iconlibs:{},editors:{},languages:{},resolvers:[]},o.AbstractEditor=a.extend({onChildEditorChange:function(){this.onChange()},isAnyParentProcessing:function(){for(var a=this;a;a=a.parent)if(a.processing_active)return!0;return!1},onChange:function(){console.assert(this.processing_active,"onChange called outside of processing context??"),this.processing_dirty=!0},init:function(a){this.jsoneditor=a.jsoneditor,this.theme=this.jsoneditor.theme,this.template_engine=this.jsoneditor.template,this.iconlib=this.jsoneditor.iconlib,this.schema=a.schema,this.options=g(a.schema.options||{},a),this.path=a.path||"root",this.formname=a.formname||this.path.replace(/\.([^.]+)/g,"[$1]"),this.jsoneditor.options.form_name_root&&(this.formname=this.formname.replace(/^root\[/,this.jsoneditor.options.form_name_root+"[")),this.key=this.path.split(".").pop(),this.parent=a.parent,this.watch_id=this.schema.id||null,this.container=a.container||null,this.header_template=null,this.schema.headerTemplate&&(this.header_template=this.jsoneditor.compileTemplate(this.schema.headerTemplate,this.template_engine)),this.processing_active=!1,this.processing_dirty=!1,this.processing_watch_dirty=!1},debugPrint:function(a){console.log(this.path+": "+a)},build:function(){var a=this;a.withProcessingContext(function(){a.buildImpl(),a.jsoneditor.registerEditor(a),a.setupWatchListeners(),a.updateHeaderText(),a.onChange()},"build")},setupWatchListeners:function(){var a=this;if(this.watched={},this.watched_values={},this.watch_listener=function(){a.withProcessingContext(function(){a.processing_watch_dirty=!0},"watch_listener")},this.schema.hasOwnProperty("watch"))for(var b in this.schema.watch)if(this.schema.watch.hasOwnProperty(b)){var c=this.schema.watch[b];if("string"!=typeof c)throw"Watch path must be a string";for(var d=c.split("."),e=d.shift(),f=null,g=a.parent;g;g=g.parent)if(g.watch_id==e){f=g;break}if(!f)throw"Could not find ancestor node with id "+e;var h=f.path+(0===d.length?"":"."+d.join("."));a.jsoneditor.doWatch(h,a.watch_listener),a.watched[b]=h}},getButton:function(a,b,c){var d="json-editor-btn-"+b;b=this.iconlib?this.iconlib.getIcon(b):null,!b&&c&&(a=c,c=null);var e=this.theme.getButton(a,b,c);return e.className+=" "+d+" ",e},setButtonText:function(a,b,c,d){return c=this.iconlib?this.iconlib.getIcon(c):null,!c&&d&&(b=d,d=null),this.theme.setButtonText(a,b,c,d)},refreshWatchedFieldValues:function(){if(this.watched_values){var a={},b=!1,c=this;if(this.watched){var d,e;for(var f in this.watched)this.watched.hasOwnProperty(f)&&(e=c.jsoneditor.getEditor(this.watched[f]),d=e?e.getValue():null,c.watched_values[f]!==d&&(b=!0),a[f]=d)}return a.self=this.getValue(),this.watched_values.self!==a.self&&(b=!0),this.watched_values=a,b}},getWatchedFieldValues:function(){return this.watched_values},updateHeaderText:function(){this.header&&(this.header.textContent=this.getHeaderText())},getHeaderText:function(a){return this.header_text?this.header_text:a?this.schema.title:this.getTitle()},onWatchedFieldChange:function(){var a;if(this.header_template){a=g(this.getWatchedFieldValues(),{key:this.key,i:this.key,i0:1*this.key,i1:1*this.key+1,title:this.getTitle()});var b=this.header_template(a);b!==this.header_text&&(this.header_text=b,this.updateHeaderText(),this.onChange())}},withProcessingContext:function(a,b){var c=this;console.assert(!c.processing_active,"already processing??");var d=!!c.jsoneditor.options.trace_processing;d&&("undefined"==typeof b&&(b="unknown_context"),c.debugPrint(b+" {")),c.processing_active=!0,c.processing_dirty=!1,c.processing_watch_dirty=!1,a(),(c.processing_dirty||c.processing_watch_dirty)&&c.refreshWatchedFieldValues()&&c.onWatchedFieldChange(),c.processing_active=!1,d&&c.debugPrint("}"),c.processing_dirty&&(c.jsoneditor.notifyWatchers(c.path),c.isAnyParentProcessing()||(c.parent?c.parent.withProcessingContext(function(){c.parent.onChildEditorChange(c)},"child_editor_change"):c.jsoneditor.onChange()))},setValue:function(a){var b=this;b.withProcessingContext(function(){b.setValueImpl(a)},"setValue")},setValueImpl:function(a){this.value=a,this.onChange()},getValue:function(){return this.value},getFinalValue:function(){return this.getValue()},destroy:function(){var a=this;h(this.watched,function(b,c){a.jsoneditor.doUnwatch(c,a.watch_listener)}),this.jsoneditor.unregisterEditor(this),this.watched=null,this.watched_values=null,this.watch_listener=null,this.header_text=null,this.header_template=null,this.value=null,this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container),this.container=null,this.jsoneditor=null,this.schema=null,this.path=null,this.key=null,this.parent=null},getDefault:function(){if(this.schema.default)return this.schema.default;if(this.schema.enum)return this.schema.enum[0];var a=this.schema.type||this.schema.oneOf;if(a&&Array.isArray(a)&&(a=a[0]),a&&"object"==typeof a&&(a=a.type),a&&Array.isArray(a)&&(a=a[0]),"string"==typeof a){if("number"===a)return 0;if("boolean"===a)return!1;if("integer"===a)return 0;if("string"===a)return"";if("object"===a)return{};if("array"===a)return[]}return null},getTitle:function(){return this.schema.title||this.key},enable:function(){this.disabled=!1},disable:function(){this.disabled=!0},isEnabled:function(){return!this.disabled},getDisplayText:function(a){var b=[],c={};h(a,function(a,b){b.title&&(c[b.title]=c[b.title]||0,c[b.title]++),b.description&&(c[b.description]=c[b.description]||0,c[b.description]++),b.format&&(c[b.format]=c[b.format]||0,c[b.format]++),b.type&&(c[b.type]=c[b.type]||0,c[b.type]++)}),h(a,function(a,d){var e;e="string"==typeof d?d:d.title&&c[d.title]<=1?d.title:d.format&&c[d.format]<=1?d.format:d.type&&c[d.type]<=1?d.type:d.description&&c[d.description]<=1?d.descripton:d.title?d.title:d.format?d.format:d.type?d.type:d.description?d.description:JSON.stringify(d).length<50?JSON.stringify(d):"type",b.push(e)});var d={};return h(b,function(a,e){d[e]=d[e]||0,d[e]++,c[e]>1&&(b[a]=e+" "+d[e])}),b}}),o.defaults.editors.string=o.AbstractEditor.extend({setValueImpl:function(a){null===a?a="":"object"==typeof a?a=JSON.stringify(a):"string"!=typeof a&&(a=""+a);var b=this.sanitize(a);this.input.value!==b&&(this.input.value=b,this.refreshValue(),this.onChange())},buildImpl:function(){var a=this;if(this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.format=this.schema.format,!this.format&&this.schema.media&&this.schema.media.type&&(this.format=this.schema.media.type.replace(/(^(application|text)\/(x-)?(script\.)?)|(-source$)/g,"")),!this.format&&this.options.default_format&&(this.format=this.options.default_format),this.options.format&&(this.format=this.options.format),this.format)if("textarea"===this.format)this.input_type="textarea",this.input=this.theme.getTextareaInput();else if("range"===this.format){this.input_type="range";var b=this.schema.minimum||0,c=this.schema.maximum||Math.max(100,b+1),d=1;this.schema.multipleOf&&(b%this.schema.multipleOf&&(b=Math.ceil(b/this.schema.multipleOf)*this.schema.multipleOf),c%this.schema.multipleOf&&(c=Math.floor(c/this.schema.multipleOf)*this.schema.multipleOf),d=this.schema.multipleOf),this.input=this.theme.getRangeInput(b,c,d)}else this.input_type=this.format,this.input=this.theme.getFormInputField(this.input_type);else this.input_type="text",this.input=this.theme.getFormInputField(this.input_type);this.input.setAttribute("name",this.formname),"undefined"!=typeof this.schema.maxLength&&this.input.setAttribute("maxlength",this.schema.maxLength),"undefined"!=typeof this.schema.pattern?this.input.setAttribute("pattern",this.schema.pattern):"undefined"!=typeof this.schema.minLength&&this.input.setAttribute("pattern",".{"+this.schema.minLength+",}"),this.options.compact&&this.container.setAttribute("class",this.container.getAttribute("class")+" compact"),(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.input.addEventListener("change",function(b){b.preventDefault(),b.stopPropagation();var c=this.value,d=a.sanitize(c);c!==d&&(this.value=d),a.withProcessingContext(function(){a.refreshValue(),a.onChange()},"input_change")}),this.control=this.theme.getFormControl(this.label,this.input,this.description),this.container.appendChild(this.control),this.refreshValue(),this.theme.afterInputReady(this.input)},enable:function(){this.always_disabled||(this.input.disabled=!1),this._super()},disable:function(){this.input.disabled=!0,this._super()},refreshValue:function(){this.value=this.input.value,"string"!=typeof this.value&&(this.value="")},destroy:function(){this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this._super()},sanitize:function(a){return a}}),o.defaults.editors.number=o.defaults.editors.string.extend({sanitize:function(a){return(a+"").replace(/[^0-9\.\-eE]/g,"")},getValue:function(){return 1*this.value}}),o.defaults.editors.integer=o.defaults.editors.number.extend({sanitize:function(a){return a+="",a.replace(/[^0-9\-]/g,"")}}),o.defaults.editors.object=o.AbstractEditor.extend({getDefault:function(){return c({},this.schema.default||{})},enable:function(){this._super();for(var a in this.editors)this.editors.hasOwnProperty(a)&&this.editors[a].enable()},disable:function(){this._super();for(var a in this.editors)this.editors.hasOwnProperty(a)&&this.editors[a].disable()},layoutEditors:function(){var a=this;if(this.row_container){var b=document.createElement("div");h(this.computeOrder(),function(c,d){var e=a.editors[d],f=a.theme.getGridRow();b.appendChild(f),e.options.hidden?e.container.style.display="none":a.theme.setGridColumnSize(e.container,12),e.container.className+=" container-"+d,f.appendChild(e.container)}),this.row_container.innerHTML="",this.row_container.appendChild(b)}},buildImpl:function(){this.editors={};var a=this;if(this.schema_properties=this.schema.properties||{},this.options.table_row)this.editor_holder=this.container;else{this.defaultProperties=this.schema.defaultProperties||Object.keys(this.schema_properties),this.header=document.createElement("span"),this.header.textContent=this.getTitle(),this.title=this.theme.getHeader(this.header),this.container.appendChild(this.title),this.container.style.position="relative",this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.container.appendChild(this.description)),this.editor_holder=this.theme.getIndentedPanel(),this.editor_holder.style.paddingBottom="0",this.container.appendChild(this.editor_holder),this.row_container=this.theme.getGridContainer(),this.editor_holder.appendChild(this.row_container),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.collapsed=!1,this.toggle_button=this.getButton("","collapse","Collapse"),this.title_controls.appendChild(this.toggle_button),this.toggle_button.addEventListener("click",function(b){b.preventDefault(),b.stopPropagation(),a.collapsed?(a.editor_holder.style.display="",a.collapsed=!1,a.setButtonText(a.toggle_button,"","collapse","Collapse")):(a.editor_holder.style.display="none",a.collapsed=!0,a.setButtonText(a.toggle_button,"","expand","Expand"))}),this.options.collapsed&&i(this.toggle_button,"click");var b=!!this.options.no_label,c=this.jsoneditor.options.disable_collapse||this.schema.options&&"undefined"!=typeof this.schema.options.disable_collapse;this.options.no_header||b&&c?this.title.style.display="none":(b&&(this.header.style.display="none"),c&&(this.title_controls.style.display="none"))}this.mySetValue({},!0),this.options.table_row?h(this.computeOrder(),function(b,c){a.editor_holder.appendChild(a.editors[c].container)}):this.layoutEditors()},addObjectProperty:function(a){var b=this;if(!this.editors[a]){var c,d={};b.options.table_row?(c=b.theme.getTableCell(),d.compact=!0,d.required=!0):c=b.theme.getChildEditorHolder();var e=b.schema_properties[a],f=b.jsoneditor.getEditorClass(e);b.editor_holder.appendChild(c),b.editors[a]=b.jsoneditor.createEditor(f,g({jsoneditor:b.jsoneditor,schema:e,path:b.path+"."+a,parent:b,container:c},d)),b.editors[a].build(),b.options.table_row&&b.editors[a].options.hidden&&(c.style.display="none")}},onChildEditorChange:function(){this.refreshValue(),this.onChange()},destroy:function(){h(this.editors,function(a,b){b.destroy()}),this.editor_holder&&(this.editor_holder.innerHTML=""),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.editors=null,this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder),this.editor_holder=null,this._super()},getFinalValue:function(){var a={};for(var b in this.editors)this.editors.hasOwnProperty(b)&&(this.editors[b].schema.excludeFromFinalValue||(a[b]=this.editors[b].getFinalValue()));return a},refreshValue:function(){this.value={};for(var a in this.editors)this.editors.hasOwnProperty(a)&&(this.value[a]=this.editors[a].getValue())},setValueImpl:function(a){this.mySetValue(a,!1)},mySetValue:function(a,b){var c=this;a=a||{},("object"!=typeof a||Array.isArray(a))&&(a={});var d=[];h(this.editors,function(b){d.push("undefined"!=typeof a[b]?{name:b,value:a[b]}:{name:b})}),b&&h(c.schema_properties,function(a){c.editors.hasOwnProperty(a)||d.push({name:a})}),h(d,function(a,b){var d=b.name;b.processingOrder=0,c.schema_properties&&c.schema_properties[d]&&"undefined"!=typeof c.schema_properties[d].processingOrder&&(b.processingOrder=c.schema_properties[d].processingOrder)}),d.sort(function(a,b){return(a.processingOrder>b.processingOrder)-(a.processingOrder<b.processingOrder)}),h(d,function(a,b){var d=b.name;c.addObjectProperty(d);var e=b.hasOwnProperty("value")?b.value:c.editors[d].getDefault();c.editors[d].setValue(e)}),this.refreshValue(),this.layoutEditors(),this.onChange()},computeOrder:function(){var a=this,b=Object.keys(a.editors);return b=b.sort(function(b,c){var d=a.editors[b].schema.propertyOrder,e=a.editors[c].schema.propertyOrder;return"number"!=typeof d&&(d=1e3),"number"!=typeof e&&(e=1e3),d-e})}}),o.defaults.editors.array=o.AbstractEditor.extend({getDefault:function(){return this.schema.default||[]},enable:function(){this.add_row_button&&(this.add_row_button.disabled=!1),this.remove_all_rows_button&&(this.remove_all_rows_button.disabled=!1);for(var a=0;a<this.rows.length;a++)this.rows[a].enable(),this.rows[a].moveup_button&&(this.rows[a].moveup_button.disabled=!1),this.rows[a].movedown_button&&(this.rows[a].movedown_button.disabled=!1),this.rows[a].delete_button&&(this.rows[a].delete_button.disabled=!1);this._super()},disable:function(){this.add_row_button&&(this.add_row_button.disabled=!0),this.remove_all_rows_button&&(this.remove_all_rows_button.disabled=!0);for(var a=0;a<this.rows.length;a++)this.rows[a].disable(),this.rows[a].moveup_button&&(this.rows[a].moveup_button.disabled=!0),this.rows[a].movedown_button&&(this.rows[a].movedown_button.disabled=!0),this.rows[a].delete_button&&(this.rows[a].delete_button.disabled=!0);this._super()},arrayBaseBuildImpl:function(){this.rows=[],this.force_refresh=!0,this.hide_delete_buttons=this.options.disable_array_delete||this.jsoneditor.options.disable_array_delete,this.hide_move_buttons=this.options.disable_array_reorder||this.jsoneditor.options.disable_array_reorder,this.hide_add_button=this.options.disable_array_add||this.jsoneditor.options.disable_array_add},buildImpl:function(){var a=this;a.arrayBaseBuildImpl(),this.options.compact?(this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.controls=this.theme.getButtonHolder(),this.panel.appendChild(this.controls),this.row_holder=document.createElement("div"),this.panel.appendChild(this.row_holder)):(this.header=document.createElement("span"),this.header.textContent=this.getTitle(),this.title=this.theme.getHeader(this.header),this.container.appendChild(this.title),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.container.appendChild(this.description)),this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.row_holder=document.createElement("div"),this.panel.appendChild(this.row_holder),this.controls=this.theme.getButtonHolder(),this.panel.appendChild(this.controls)),this.addControls(),this.setValueImpl([])},onChildEditorChange:function(){this.refreshValue(),this.onChange()},getItemTitle:function(){return this.item_title||(this.item_title=this.schema.items.title||"item"),this.item_title},getElementEditor:function(a){var b,c=g(this.schema.items,{title:this.getItemTitle()+" "+(a+1)}),d=this.jsoneditor.getEditorClass(c);b=c.properties||c.items?this.theme.getChildEditorHolder():this.theme.getIndentedPanel(),this.row_holder.appendChild(b);var e=this.jsoneditor.createEditor(d,{jsoneditor:this.jsoneditor,schema:c,container:b,path:this.path+"."+a,parent:this,required:!0});return e.build(),e.title_controls||(e.array_controls=this.theme.getButtonHolder(),b.appendChild(e.array_controls)),e},destroy:function(){this.empty(!0),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.row_holder&&this.row_holder.parentNode&&this.row_holder.parentNode.removeChild(this.row_holder),this.controls&&this.controls.parentNode&&this.controls.parentNode.removeChild(this.controls),this.panel&&this.panel.parentNode&&this.panel.parentNode.removeChild(this.panel),this.rows=this.title=this.description=this.row_holder=this.panel=this.controls=null,this._super()},empty:function(){if(this.rows){var a=this;h(this.rows,function(b,c){a.destroyRow(c),a.rows[b]=null}),a.rows=[]}},destroyRow:function(a){var b=a.container;a.destroy(),b.parentNode&&b.parentNode.removeChild(b)},setValueImpl:function(a){a=a||[],Array.isArray(a)||(a=[a]);var b=this;h(a,function(a,c){b.rows[a]?b.rows[a].setValue(c):b.addRow(c)});for(var c=a.length;c<b.rows.length;c++)b.destroyRow(b.rows[c]),b.rows[c]=null;b.rows=b.rows.slice(0,a.length),b.refreshValue(),b.onChange()},getFinalValue:function(){var a=[];return h(this.rows,function(b,c){a[b]=c.getFinalValue()}),a},refreshValue:function(){var a=this,b=this.value?this.value.length:0;this.value=[];var c=a.force_refresh;a.force_refresh=!1,h(this.rows,function(b,c){a.value[b]=c.getValue()}),(b!==this.value.length||c)&&a.refreshButtons()},refreshButtons:function(){var a=this,b=!1;h(this.rows,function(c,d){d.movedown_button&&(c===a.rows.length-1?d.movedown_button.style.display="none":(b=!0,d.movedown_button.style.display="")),d.delete_button&&(b=!0,d.delete_button.style.display=""),a.refreshButtonsExtraEditor(c,d)&&(b=!0)});var c=!1;0===this.rows.length||this.hide_delete_buttons?this.remove_all_rows_button.style.display="none":(this.remove_all_rows_button.style.display="",c=!0),this.add_row_button.style.display="",c=!0,a.refreshButtonsExtra(b,c)},refreshButtonsExtraEditor:function(){return!1},refreshButtonsExtra:function(a,b){this.controls.style.display=!this.collapsed&&b?"inline-block":"none"},addRow:function(a){this.addRowBase(a,!0,function(a){return a.title_controls||a.array_controls})},addRowBase:function(a,b,c){var d=this,e=this.rows.length;d.rows[e]=this.getElementEditor(e);var f=c(d.rows[e]);if(!d.hide_delete_buttons){var g=b?d.getItemTitle():"",i="Delete"+(b?" "+d.getItemTitle():"");d.rows[e].delete_button=this.getButton(g,"delete",i),d.rows[e].delete_button.className+=" delete",d.rows[e].delete_button.setAttribute("data-i",e),d.rows[e].delete_button.addEventListener("click",function(a){a.preventDefault(),a.stopPropagation();var b=1*this.getAttribute("data-i"),c=d.getValue(),e=[];h(c,function(a,c){a!==b&&e.push(c)}),d.withProcessingContext(function(){d.setValueImpl(e)},"delete_button_click")}),f&&f.appendChild(d.rows[e].delete_button)}e&&!d.hide_move_buttons&&(d.rows[e].moveup_button=this.getButton("","moveup","Move up"),d.rows[e].moveup_button.className+=" moveup",d.rows[e].moveup_button.setAttribute("data-i",e),d.rows[e].moveup_button.addEventListener("click",function(a){d.moveClickHandler(a,this,!1)}),f&&f.appendChild(d.rows[e].moveup_button)),d.hide_move_buttons||(d.rows[e].movedown_button=this.getButton("","movedown","Move down"),d.rows[e].movedown_button.className+=" movedown",d.rows[e].movedown_button.setAttribute("data-i",e),d.rows[e].movedown_button.addEventListener("click",function(a){d.moveClickHandler(a,this,!0)}),f&&f.appendChild(d.rows[e].movedown_button)),a&&d.rows[e].setValue(a)},moveClickHandler:function(a,b,c){var d=this;a.preventDefault(),a.stopPropagation();var e=1*b.getAttribute("data-i");if(c&&e++,!(0>=e)){var f=d.getValue(),g=f[e-1];f[e-1]=f[e],f[e]=g,d.withProcessingContext(function(){d.setValueImpl(f)},"move_button_click")}},addRowButtons:function(){},addControls:function(){var a=this;this.collapsed=!1,this.title_controls&&(this.toggle_button=this.getButton("","collapse","Collapse"),this.title_controls.appendChild(this.toggle_button),this.toggleSetup(),this.toggle_button.addEventListener("click",function(b){b.preventDefault(),b.stopPropagation(),a.collapsed?(a.collapsed=!1,a.panel&&(a.panel.style.display=""),a.toggleHandlerExtra(!0),a.setButtonText(this,"","collapse","Collapse")):(a.collapsed=!0,a.toggleHandlerExtra(!1),a.panel&&(a.panel.style.display="none"),a.setButtonText(this,"","expand","Expand"))}),this.options.collapsed&&i(this.toggle_button,"click"),this.schema.options&&"undefined"!=typeof this.schema.options.disable_collapse?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none")),this.add_row_button=this.getButton(this.getItemTitle(),"add","Add "+this.getItemTitle()),this.add_row_button.addEventListener("click",function(b){b.preventDefault(),b.stopPropagation(),a.withProcessingContext(function(){a.addRowButtonHandler()},"add_row_button_click")}),a.controls.appendChild(this.add_row_button),this.remove_all_rows_button=this.getButton("All","delete","Delete All"),this.remove_all_rows_button.addEventListener("click",function(b){b.preventDefault(),b.stopPropagation(),a.withProcessingContext(function(){a.setValueImpl([])},"delete_all_rows_button_click")}),a.controls.appendChild(this.remove_all_rows_button)},addRowButtonHandler:function(){{var a=this;a.rows.length}a.addRow(),a.refreshValue(),a.onChange()},toggleSetup:function(){var a=this;a.row_holder_display=a.row_holder.style.display,a.controls_display=a.controls.style.display},toggleHandlerExtra:function(a){var b=this;a?(b.row_holder.style.display=b.row_holder_display,b.controls.style.display=b.controls_display):(b.row_holder.style.display="none",b.controls.style.display="none")}}),o.defaults.editors.table=o.defaults.editors.array.extend({buildImpl:function(){var a=this;a.arrayBaseBuildImpl();var b=this.schema.items||{};this.item_title=b.title||"row",this.item_default=b.default||null,this.item_has_child_editors=b.properties,this.initial=!0,this.table=this.theme.getTable(),this.container.appendChild(this.table),this.thead=this.theme.getTableHead(),this.table.appendChild(this.thead),this.header_row=this.theme.getTableRow(),this.thead.appendChild(this.header_row),this.row_holder=this.theme.getTableBody(),this.table.appendChild(this.row_holder),this.options.compact?(this.panel=document.createElement("div"),this.container.appendChild(this.panel)):(this.title=this.theme.getHeader(this.getTitle()),this.container.appendChild(this.title),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.container.appendChild(this.description)),this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel)),this.panel.appendChild(this.table),this.controls=this.theme.getButtonHolder(),this.panel.appendChild(this.controls),this.item_has_child_editors?h(b.properties,function(b,c){var d=c.title?c.title:b,e=a.theme.getTableHeaderCell(d);"undefined"!=typeof c.options&&c.options.hidden&&(e.style.display="none"),a.header_row.appendChild(e)}):a.header_row.appendChild(a.theme.getTableHeaderCell(this.item_title)),this.row_holder.innerHTML="",this.controls_header_cell=a.theme.getTableHeaderCell(" "),a.header_row.appendChild(this.controls_header_cell),this.addControls(),this.setValueImpl([])},getItemDefault:function(){return c({},{"default":this.item_default}).default},getItemTitle:function(){return this.item_title},getElementEditor:function(a){var b=this.schema.items,c=this.jsoneditor.getEditorClass(b),d=this.row_holder.appendChild(this.theme.getTableRow()),e=d;this.item_has_child_editors||(e=this.theme.getTableCell(),d.appendChild(e));var f=this.jsoneditor.createEditor(c,{jsoneditor:this.jsoneditor,schema:b,container:e,path:this.path+"."+a,parent:this,compact:!0,table_row:!0});return f.build(),f.controls_cell=d.appendChild(this.theme.getTableCell()),f.row=d,f.table_controls=this.theme.getButtonHolder(),f.controls_cell.appendChild(f.table_controls),f.table_controls.style.margin=0,f.table_controls.style.padding=0,f
},destroy:function(){this.innerHTML="",this.table&&this.table.parentNode&&this.table.parentNode.removeChild(this.table),this.table=null,this._super()},setValueImpl:function(a){a=a||[];var b=!1,c=this;h(a,function(a,d){c.rows[a]?c.rows[a].setValue(d):(c.addRow(d),b=!0)});for(var d=a.length;d<c.rows.length;d++){var e=c.rows[d].container;c.item_has_child_editors||c.rows[d].row.parentNode.removeChild(c.rows[d].row),c.rows[d].destroy(),e.parentNode&&e.parentNode.removeChild(e),c.rows[d]=null,b=!0}c.rows=c.rows.slice(0,a.length),c.refreshValue(),(b||c.initial)&&c.refreshButtons(),c.initial=!1,c.onChange()},refreshButtonsExtraEditor:function(a,b){return!!b.moveup_button},refreshButtonsExtra:function(a,b){h(this.rows,function(b,c){c.controls_cell.style.display=a?"":"none"}),this.controls_header_cell.style.display=a?"":"none",this.table.style.display=0===this.value.length?"none":"",this.controls.style.display=b?"":"none"},refreshValue:function(){var a=this;this.value=[],h(this.rows,function(b,c){a.value[b]=c.getValue()})},addRow:function(a){this.addRowBase(a,!1,function(a){return a.table_controls})},addRowButtonHandler:function(){var a=this;a.addRow(),a.refreshValue(),a.refreshButtons(),a.onChange()},toggleSetup:function(){},toggleHandlerExtra:function(){}}),o.defaults.editors.multiple=o.AbstractEditor.extend({enable:function(){this.editor.enable(),this.switcher.disabled=!1,this._super()},disable:function(){this.editor.disable(),this.switcher.disabled=!0,this._super()},switchEditor:function(a){var b=this;b.editor&&b.type!==a&&(b.editor.destroy(),b.editor=null),b.editor||b.buildChildEditor(a),b.type=a,b.editor.setValue(b.value),b.editor.container.style.display="",b.refreshValue()},buildChildEditor:function(a){var b=this,c=b.theme.getChildEditorHolder();b.editor_holder.appendChild(c);var d=b.child_schemas[a],e=b.jsoneditor.getEditorClass(d);b.editor=b.jsoneditor.createEditor(e,{jsoneditor:b.jsoneditor,schema:d,container:c,path:b.path,parent:b,required:!0,no_label:!0}),b.editor.build()},buildImpl:function(){var a=this;if(!Array.isArray(k(this.schema,"oneOf")))throw"'multiple' editor requires an array 'oneOf'";if(0===this.schema.oneOf.length)throw"'multiple' editor requires non-empty 'oneOf'";if(!j(this.schema,"selectKey"))throw"'multiple' editor requires 'selectKey'";this.child_schemas=this.schema.oneOf,this.select_key=this.schema.selectKey,this.type=0,this.editor=null,this.value=null,this.display_text=this.getDisplayText(this.child_schemas),this.select_values=[],h(this.child_schemas,function(b,c){var d=l(c,"properties",a.select_key,"constantValue");if(m(d))throw a.debugPrint(c),"'multiple' editor requires each 'oneOf' schema to have properties.(selectKey).constantValue";a.select_values.push(d)});var b=this.container;this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.container.appendChild(this.header),this.switcher=this.theme.getSwitcher(this.display_text),b.appendChild(this.switcher),this.switcher.addEventListener("change",function(b){b.preventDefault(),b.stopPropagation(),a.withProcessingContext(function(){a.switchEditor(a.display_text.indexOf(a.switcher.value)),a.onChange()},"switcher_input")}),this.switcher.style.marginBottom=0,this.switcher.style.width="auto",this.switcher.style.display="inline-block",this.switcher.style.marginLeft="5px",this.editor_holder=document.createElement("div"),b.appendChild(this.editor_holder),this.switchEditor(0)},onChildEditorChange:function(){this.refreshValue(),this.onChange()},refreshValue:function(){this.value=this.editor.getValue()},setValueImpl:function(a){var b=this,c=0;if(n(a)&&j(a,b.select_key)){var d=a[b.select_key];h(b.select_values,function(a,b){return b===d?(c=a,!1):void 0})}b.switcher.value=b.display_text[c],this.value=a,this.switchEditor(c),b.onChange()},destroy:function(){this.editor&&this.editor.destroy(),this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder),this.switcher&&this.switcher.parentNode&&this.switcher.parentNode.removeChild(this.switcher),this._super()}}),o.defaults.editors.select=o.AbstractEditor.extend({setValueImpl:function(a){a=this.typecast(a||"");var b=a;this.enum_values.indexOf(b)<0&&(b=this.enum_values[0]),this.value!==b&&(this.input.value=this.enum_options[this.enum_values.indexOf(b)],this.value=b,this.onChange())},typecast:function(a){return"boolean"===this.schema.type?!!a:"number"===this.schema.type?1*a:"integer"===this.schema.type?Math.floor(1*a):""+a},getValue:function(){return this.value},buildImpl:function(){var a=this;if(this.input_type="select",this.enum_options=[],this.enum_values=[],this.enum_display=[],this.schema.enum){var b=this.schema.options&&this.schema.options.enum_titles||[];h(this.schema.enum,function(c,d){a.enum_options[c]=""+d,a.enum_display[c]=""+(b[c]||d),a.enum_values[c]=a.typecast(d)})}else if("boolean"===this.schema.type)a.enum_display=["true","false"],a.enum_options=["1",""],a.enum_values=[!0,!1];else{if(!this.schema.enumSource)throw"'select' editor requires the enum property to be set.";this.enum_source_template=this.jsoneditor.compileTemplate(this.schema.enumSource.sourceTemplate,this.template_engine),this.enum_value_template=this.jsoneditor.compileTemplate(this.schema.enumSource.value,this.template_engine),this.enum_title_template=this.jsoneditor.compileTemplate(this.schema.enumSource.title,this.template_engine)}this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.compact&&this.container.setAttribute("class",this.container.getAttribute("class")+" compact"),this.input=this.theme.getSelectInput(this.enum_options),this.theme.setSelectOptions(this.input,this.enum_options,this.enum_display),this.input.setAttribute("name",this.formname),(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.input.addEventListener("change",function(b){b.preventDefault(),b.stopPropagation(),a.onInputChange()}),this.control=this.theme.getFormControl(this.label,this.input,this.description),this.container.appendChild(this.control),this.value=this.enum_values[0],this.theme.afterInputReady(this.input)},onInputChange:function(){var a=this;a.withProcessingContext(function(){var b=a.input.value,c=b;-1===a.enum_options.indexOf(b)&&(c=a.enum_options[0]),a.value=a.enum_values[a.enum_options.indexOf(b)],a.onChange()},"input_change")},onWatchedFieldChange:function(){if(this.enum_source_template){for(var a=this.getWatchedFieldValues(),b=this.enum_source_template(a),c=[],d=[],e=0;e<b.length;e++){var f={watch_vars:a,i:e,item:b[e]};c[e]=this.enum_value_template(f),d[e]=this.enum_title_template(f)}var g=this.value;this.theme.setSelectOptions(this.input,c,d),this.enum_options=c,this.enum_display=d,this.enum_values=c,-1!==c.indexOf(g)?(this.input.value=g,this.value=g):(this.input.value=c[0],this.value=c[0]||"",this.onChange())}this._super()},enable:function(){this.always_disabled||(this.input.disabled=!1),this._super()},disable:function(){this.input.disabled=!0,this._super()},destroy:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this._super()}}),o.defaults.editors.derived=o.AbstractEditor.extend({buildImpl:function(){if(this.always_disabled=!0,j(this.schema,"valueTemplate"))this.derived_mode="template",this.template=this.jsoneditor.compileTemplate(this.schema.valueTemplate,this.template_engine),this.myValue=null;else{if(!j(this.schema,"constantValue"))throw"'derived' editor requires the valueTemplate or constantValue property to be set.";this.derived_mode="constant",this.myValue=this.schema.constantValue}},destroy:function(){this.myValue=null,this.template=null,this._super()},getValue:function(){return this.myValue},setValueImpl:function(){},onWatchedFieldChange:function(){if("template"==this.derived_mode){var a=this.getWatchedFieldValues();this.myValue=this.template(a),this.onChange()}this._super()}}),o.AbstractTheme=a.extend({getContainer:function(){return document.createElement("div")},getFloatRightLinkHolder:function(){var a=document.createElement("div");return a.style=a.style||{},a.style.cssFloat="right",a.style.marginLeft="10px",a},getModal:function(){var a=document.createElement("div");return a.style.backgroundColor="white",a.style.border="1px solid black",a.style.boxShadow="3px 3px black",a.style.position="absolute",a.style.zIndex="10",a.style.display="none",a},getGridContainer:function(){var a=document.createElement("div");return a},getGridRow:function(){var a=document.createElement("div");return a.className="row",a},getGridColumn:function(){var a=document.createElement("div");return a},setGridColumnSize:function(){},getLink:function(a){var b=document.createElement("a");return b.setAttribute("href","#"),b.appendChild(document.createTextNode(a)),b},disableHeader:function(a){a.style.color="#ccc"},disableLabel:function(a){a.style.color="#ccc"},enableHeader:function(a){a.style.color=""},enableLabel:function(a){a.style.color=""},getFormInputLabel:function(a){var b=document.createElement("label");return b.appendChild(document.createTextNode(a)),b},getCheckboxLabel:function(a){var b=this.getFormInputLabel(a);return b.style.fontWeight="normal",b},getHeader:function(a){var b=document.createElement("h3");return"string"==typeof a?b.textContent=a:b.appendChild(a),b},getCheckbox:function(){var a=this.getFormInputField("checkbox");return a.style.display="inline-block",a.style.width="auto",a},getMultiCheckboxHolder:function(a,b,c){var d=document.createElement("div");b&&(b.style.display="block",d.appendChild(b));for(var e in a)a.hasOwnProperty(e)&&(a[e].style.display="inline-block",a[e].style.marginRight="20px",d.appendChild(a[e]));return c&&d.appendChild(c),d},getSelectInput:function(a){var b=document.createElement("select");return a&&this.setSelectOptions(b,a),b},getSwitcher:function(a){var b=this.getSelectInput(a);return b.style.backgroundColor="transparent",b.style.height="auto",b.style.fontStyle="italic",b.style.fontWeight="normal",b.style.padding="0 0 0 3px",b},getSwitcherOptions:function(a){return a.getElementsByTagName("option")},setSwitcherOptions:function(a,b,c){this.setSelectOptions(a,b,c)},setSelectOptions:function(a,b,c){c=c||[],a.innerHTML="";for(var d=0;d<b.length;d++){var e=document.createElement("option");e.setAttribute("value",b[d]),e.textContent=c[d]||b[d],a.appendChild(e)}},getTextareaInput:function(){var a=document.createElement("textarea");return a.style=a.style||{},a.style.width="100%",a.style.height="300px",a.style.boxSizing="border-box",a},getRangeInput:function(a,b,c){var d=this.getFormInputField("range");return d.setAttribute("min",a),d.setAttribute("max",b),d.setAttribute("step",c),d},getFormInputField:function(a){var b=document.createElement("input");return b.setAttribute("type",a),b},afterInputReady:function(){},getFormControl:function(a,b,c){var d=document.createElement("div");return d.className="form-control",a&&d.appendChild(a),"checkbox"===b.type?a.insertBefore(b,a.firstChild):d.appendChild(b),c&&d.appendChild(c),d},getIndentedPanel:function(){var a=document.createElement("div");return a.style=a.style||{},a.style.paddingLeft="10px",a.style.marginLeft="10px",a.style.borderLeft="1px solid #ccc",a},getChildEditorHolder:function(){return document.createElement("div")},getDescription:function(a){var b=document.createElement("p");return b.appendChild(document.createTextNode(a)),b},getCheckboxDescription:function(a){return this.getDescription(a)},getFormInputDescription:function(a){return this.getDescription(a)},getHeaderButtonHolder:function(){return this.getButtonHolder()},getButtonHolder:function(){return document.createElement("div")},getButton:function(a,b,c){var d=document.createElement("button");return this.setButtonText(d,a,b,c),d},setButtonText:function(a,b,c,d){a.innerHTML="",c&&(a.appendChild(c),a.innerHTML+=" "),a.appendChild(document.createTextNode(b)),d&&a.setAttribute("title",d)},getTable:function(){return document.createElement("table")},getTableRow:function(){return document.createElement("tr")},getTableHead:function(){return document.createElement("thead")},getTableBody:function(){return document.createElement("tbody")},getTableHeaderCell:function(a){var b=document.createElement("th");return b.textContent=a,b},getTableCell:function(){var a=document.createElement("td");return a},getErrorMessage:function(a){var b=document.createElement("p");return b.style=b.style||{},b.style.color="red",b.appendChild(document.createTextNode(a)),b},addInputError:function(){},removeInputError:function(){},addTableRowError:function(){},removeTableRowError:function(){},getTabHolder:function(){var a=document.createElement("div");return a.innerHTML="<div style='float: left; width: 130px;' class='tabs'></div><div class='content' style='margin-left: 130px;'></div><div style='clear:both;'></div>",a},applyStyles:function(a,b){a.style=a.style||{};for(var c in b)b.hasOwnProperty(c)&&(a.style[c]=b[c])},closest:function(a,b){for(var c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector;a&&a!==document;)try{var d=c.bind(a);if(d(b))return a;a=a.parentNode}catch(e){return!1}return!1},getTab:function(a){var b=document.createElement("div");return b.appendChild(a),b.style=b.style||{},this.applyStyles(b,{border:"1px solid #ccc",borderWidth:"1px 0 1px 1px",textAlign:"center",lineHeight:"30px",borderRadius:"5px",borderBottomRightRadius:0,borderTopRightRadius:0,fontWeight:"bold",cursor:"pointer"}),b},getTabContentHolder:function(a){return a.children[1]},getTabContent:function(){return this.getIndentedPanel()},markTabActive:function(a){this.applyStyles(a,{opacity:1,background:"white"})},markTabInactive:function(a){this.applyStyles(a,{opacity:.5,background:""})},addTab:function(a,b){a.children[0].appendChild(b)},getBlockLink:function(){var a=document.createElement("a");return a.style.display="block",a},getBlockLinkHolder:function(){var a=document.createElement("div");return a},getLinksHolder:function(){var a=document.createElement("div");return a},createMediaLink:function(a,b,c){a.appendChild(b),c.style.width="100%",a.appendChild(c)},createImageLink:function(a,b,c){a.appendChild(b),b.appendChild(c)}}),o.defaults.themes.bootstrap2=o.AbstractTheme.extend({getRangeInput:function(a,b,c){return this._super(a,b,c)},getGridContainer:function(){var a=document.createElement("div");return a.className="container-fluid",a},getGridRow:function(){var a=document.createElement("div");return a.className="row-fluid",a},getFormInputLabel:function(a){var b=this._super(a);return b.style.display="inline-block",b.style.fontWeight="bold",b},setGridColumnSize:function(a,b){a.className="span"+b},getSelectInput:function(a){var b=this._super(a);return b.style.width="auto",b.style.maxWidth="98%",b},getFormInputField:function(a){var b=this._super(a);return b.style.width="98%",b},afterInputReady:function(a){a.controlgroup||(a.controlgroup=this.closest(a,".control-group"),a.controls=this.closest(a,".controls"),this.closest(a,".compact")&&(a.controlgroup.className=a.controlgroup.className.replace(/control-group/g,"").replace(/[ ]{2,}/g," "),a.controls.className=a.controlgroup.className.replace(/controls/g,"").replace(/[ ]{2,}/g," "),a.style.marginBottom=0))},getIndentedPanel:function(){var a=document.createElement("div");return a.className="well well-small",a},getFormInputDescription:function(a){var b=document.createElement("p");return b.className="help-inline",b.textContent=a,b},getFormControl:function(a,b,c){var d=document.createElement("div");d.className="control-group";var e=document.createElement("div");return e.className="controls",a&&"checkbox"===b.getAttribute("type")?(d.appendChild(e),a.className+=" checkbox",a.appendChild(b),e.appendChild(a),e.style.height="30px"):(a&&(a.className+=" control-label",d.appendChild(a)),e.appendChild(b),d.appendChild(e)),c&&e.appendChild(c),d},getHeaderButtonHolder:function(){var a=this.getButtonHolder();return a.style.marginLeft="10px",a},getButtonHolder:function(){var a=document.createElement("div");return a.className="btn-group",a},getButton:function(a,b,c){var d=this._super(a,b,c);return d.className+=" btn btn-default",d},getTable:function(){var a=document.createElement("table");return a.className="table table-bordered",a.style.width="auto",a.style.maxWidth="none",a},addInputError:function(a,b){a.controlgroup&&a.controls&&(a.controlgroup.className+=" error",a.errmsg?a.errmsg.style.display="":(a.errmsg=document.createElement("p"),a.errmsg.className="help-block errormsg",a.controls.appendChild(a.errmsg)),a.errmsg.textContent=b)},removeInputError:function(a){a.errmsg&&(a.errmsg.style.display="none",a.controlgroup.className=a.controlgroup.className.replace(/\s?error/g,""))},getTabHolder:function(){var a=document.createElement("div");return a.className="tabbable tabs-left",a.innerHTML="<ul class='nav nav-tabs span2' style='margin-right: 0;'></ul><div class='tab-content span10' style='overflow:visible;'></div>",a},getTab:function(a){var b=document.createElement("li"),c=document.createElement("a");return c.setAttribute("href","#"),c.appendChild(a),b.appendChild(c),b},getTabContentHolder:function(a){return a.children[1]},getTabContent:function(){var a=document.createElement("div");return a.className="tab-pane active",a},markTabActive:function(a){a.className+=" active"},markTabInactive:function(a){a.className=a.className.replace(/\s?active/g,"")},addTab:function(a,b){a.children[0].appendChild(b)},getProgressBar:function(){var a=document.createElement("div");a.className="progress";var b=document.createElement("div");return b.className="bar",b.style.width="0%",a.appendChild(b),a},updateProgressBar:function(a,b){a&&(a.firstChild.style.width=b+"%")},updateProgressBarUnknown:function(a){a&&(a.className="progress progress-striped active",a.firstChild.style.width="100%")}}),o.defaults.themes.bootstrap3=o.AbstractTheme.extend({getSelectInput:function(a){var b=this._super(a);return b.className+="form-control",b},setGridColumnSize:function(a,b){a.className="col-md-"+b},afterInputReady:function(a){a.controlgroup||(a.controlgroup=this.closest(a,".form-group"),this.closest(a,".compact")&&(a.controlgroup.style.marginBottom=0))},getTextareaInput:function(){var a=document.createElement("textarea");return a.className="form-control",a},getRangeInput:function(a,b,c){return this._super(a,b,c)},getFormInputField:function(a){var b=this._super(a);return"checkbox"!==a&&(b.className+="form-control"),b},getFormControl:function(a,b,c){var d=document.createElement("div");return a&&"checkbox"===b.type?(d.className+=" checkbox",a.appendChild(b),a.style.fontSize="14px",d.style.marginTop="0",d.appendChild(a),b.style.position="relative",b.style.cssFloat="left"):(d.className+=" form-group",a&&(a.className+=" control-label",d.appendChild(a)),d.appendChild(b)),c&&d.appendChild(c),d},getIndentedPanel:function(){var a=document.createElement("div");return a.className="well well-sm",a},getFormInputDescription:function(a){var b=document.createElement("p");return b.className="help-block",b.textContent=a,b},getHeaderButtonHolder:function(){var a=this.getButtonHolder();return a.style.marginLeft="10px",a},getButtonHolder:function(){var a=document.createElement("div");return a.className="btn-group",a},getButton:function(a,b,c){var d=this._super(a,b,c);return d.className+="btn btn-default",d},getTable:function(){var a=document.createElement("table");return a.className="table table-bordered",a.style.width="auto",a.style.maxWidth="none",a},addInputError:function(a,b){a.controlgroup&&(a.controlgroup.className+=" has-error",a.errmsg?a.errmsg.style.display="":(a.errmsg=document.createElement("p"),a.errmsg.className="help-block errormsg",a.controlgroup.appendChild(a.errmsg)),a.errmsg.textContent=b)},removeInputError:function(a){a.errmsg&&(a.errmsg.style.display="none",a.controlgroup.className=a.controlgroup.className.replace(/\s?has-error/g,""))},getTabHolder:function(){var a=document.createElement("div");return a.innerHTML="<div class='tabs list-group col-md-2'></div><div class='col-md-10'></div>",a.className="rows",a},getTab:function(a){var b=document.createElement("a");return b.className="list-group-item",b.setAttribute("href","#"),b.appendChild(a),b},markTabActive:function(a){a.className+=" active"},markTabInactive:function(a){a.className=a.className.replace(/\s?active/g,"")},getProgressBar:function(){var a=0,b=100,c=0,d=document.createElement("div");d.className="progress";var e=document.createElement("div");return e.className="progress-bar",e.setAttribute("role","progressbar"),e.setAttribute("aria-valuenow",c),e.setAttribute("aria-valuemin",a),e.setAttribute("aria-valuenax",b),e.innerHTML=c+"%",d.appendChild(e),d},updateProgressBar:function(a,b){if(a){var c=a.firstChild,d=b+"%";c.setAttribute("aria-valuenow",b),c.style.width=d,c.innerHTML=d}},updateProgressBarUnknown:function(a){if(a){var b=a.firstChild;a.className="progress progress-striped active",b.removeAttribute("aria-valuenow"),b.style.width="100%",b.innerHTML=""}}}),o.defaults.themes.foundation=o.AbstractTheme.extend({getChildEditorHolder:function(){var a=document.createElement("div");return a.style.marginBottom="15px",a},getSelectInput:function(a){var b=this._super(a);return b.style.minWidth="none",b.style.padding="5px",b.style.marginTop="3px",b},getSwitcher:function(a){var b=this._super(a);return b.style.paddingRight="8px",b},afterInputReady:function(a){this.closest(a,".compact")&&(a.style.marginBottom=0),a.group=this.closest(a,".form-control")},getFormInputLabel:function(a){var b=this._super(a);return b.style.display="inline-block",b},getFormInputField:function(a){var b=this._super(a);return b.style.width="100%",b.style.marginBottom="checkbox"===a?"0":"12px",b},getFormInputDescription:function(a){var b=document.createElement("p");return b.textContent=a,b.style.marginTop="-10px",b.style.fontStyle="italic",b},getIndentedPanel:function(){var a=document.createElement("div");return a.className="panel",a},getHeaderButtonHolder:function(){var a=this.getButtonHolder();return a.style.display="inline-block",a.style.marginLeft="10px",a.style.verticalAlign="middle",a},getButtonHolder:function(){var a=document.createElement("div");return a.className="button-group",a},getButton:function(a,b,c){var d=this._super(a,b,c);return d.className+=" small button",d},addInputError:function(a,b){a.group&&(a.group.className+=" error",a.errmsg?a.errmsg.style.display="":(a.insertAdjacentHTML("afterend",'<small class="error"></small>'),a.errmsg=a.parentNode.getElementsByClassName("error")[0]),a.errmsg.textContent=b)},removeInputError:function(a){a.errmsg&&(a.group.className=a.group.className.replace(/ error/g,""),a.errmsg.style.display="none")},getProgressBar:function(){var a=document.createElement("div");a.className="progress";var b=document.createElement("span");return b.className="meter",b.style.width="0%",a.appendChild(b),a},updateProgressBar:function(a,b){a&&(a.firstChild.style.width=b+"%")},updateProgressBarUnknown:function(a){a&&(a.firstChild.style.width="100%")}}),o.defaults.themes.foundation3=o.defaults.themes.foundation.extend({getHeaderButtonHolder:function(){var a=this._super();return a.style.fontSize=".6em",a},getFormInputLabel:function(a){var b=this._super(a);return b.style.fontWeight="bold",b},getTabHolder:function(){var a=document.createElement("div");return a.className="row",a.innerHTML="<dl class='tabs vertical two columns'></dl><div class='tabs-content ten columns'></div>",a},setGridColumnSize:function(a,b){var c=["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve"];a.className="columns "+c[b]},getTab:function(a){var b=document.createElement("dd"),c=document.createElement("a");return c.setAttribute("href","#"),c.appendChild(a),b.appendChild(c),b},getTabContentHolder:function(a){return a.children[1]},getTabContent:function(){var a=document.createElement("div");return a.className="content active",a.style.paddingLeft="5px",a},markTabActive:function(a){a.className+=" active"},markTabInactive:function(a){a.className=a.className.replace(/\s*active/g,"")},addTab:function(a,b){a.children[0].appendChild(b)}}),o.defaults.themes.foundation4=o.defaults.themes.foundation.extend({getHeaderButtonHolder:function(){var a=this._super();return a.style.fontSize=".6em",a},setGridColumnSize:function(a,b){a.className="columns large-"+b},getFormInputDescription:function(a){var b=this._super(a);return b.style.fontSize=".8rem",b},getFormInputLabel:function(a){var b=this._super(a);return b.style.fontWeight="bold",b}}),o.defaults.themes.foundation5=o.defaults.themes.foundation.extend({getFormInputDescription:function(a){var b=this._super(a);return b.style.fontSize=".8rem",b},setGridColumnSize:function(a,b){a.className="columns medium-"+b},getButton:function(a,b,c){var d=this._super(a,b,c);return d.className=d.className.replace(/\s*small/g,"")+" tiny",d},getTabHolder:function(){var a=document.createElement("div");return a.innerHTML="<dl class='tabs vertical'></dl><div class='tabs-content'></div>",a},getTab:function(a){var b=document.createElement("dd"),c=document.createElement("a");return c.setAttribute("href","#"),c.appendChild(a),b.appendChild(c),b},getTabContentHolder:function(a){return a.children[1]},getTabContent:function(){var a=document.createElement("div");return a.className="content active",a.style.paddingLeft="5px",a},markTabActive:function(a){a.className+=" active"},markTabInactive:function(a){a.className=a.className.replace(/\s*active/g,"")},addTab:function(a,b){a.children[0].appendChild(b)}}),o.defaults.themes.html=o.AbstractTheme.extend({getFormInputLabel:function(a){var b=this._super(a);return b.style.display="block",b.style.marginBottom="3px",b.style.fontWeight="bold",b},getFormInputDescription:function(a){var b=this._super(a);return b.style.fontSize=".8em",b.style.margin=0,b.style.display="inline-block",b.style.fontStyle="italic",b},getIndentedPanel:function(){var a=this._super();return a.style.border="1px solid #ddd",a.style.padding="5px",a.style.margin="5px",a.style.borderRadius="3px",a},getChildEditorHolder:function(){var a=this._super();return a.style.marginBottom="8px",a},getHeaderButtonHolder:function(){var a=this.getButtonHolder();return a.style.display="inline-block",a.style.marginLeft="10px",a.style.fontSize=".8em",a.style.verticalAlign="middle",a},getTable:function(){var a=this._super();return a.style.borderBottom="1px solid #ccc",a.style.marginBottom="5px",a},addInputError:function(a,b){if(a.style.borderColor="red",a.errmsg)a.errmsg.style.display="block";else{var c=this.closest(a,".form-control");a.errmsg=document.createElement("div"),a.errmsg.setAttribute("class","errmsg"),a.errmsg.style=a.errmsg.style||{},a.errmsg.style.color="red",c.appendChild(a.errmsg)}a.errmsg.innerHTML="",a.errmsg.appendChild(document.createTextNode(b))},removeInputError:function(a){a.style.borderColor="",a.errmsg&&(a.errmsg.style.display="none")},getProgressBar:function(){var a=100,b=0,c=document.createElement("progress");return c.setAttribute("max",a),c.setAttribute("value",b),c},updateProgressBar:function(a,b){a&&a.setAttribute("value",b)},updateProgressBarUnknown:function(a){a&&a.removeAttribute("value")}}),o.defaults.themes.jqueryui=o.AbstractTheme.extend({getTable:function(){var a=this._super();return a.setAttribute("cellpadding",5),a.setAttribute("cellspacing",0),a},getTableHeaderCell:function(a){var b=this._super(a);return b.className="ui-state-active",b.style.fontWeight="bold",b},getTableCell:function(){var a=this._super();return a.className="ui-widget-content",a},getHeaderButtonHolder:function(){var a=this.getButtonHolder();return a.style.marginLeft="10px",a.style.fontSize=".6em",a.style.display="inline-block",a},getFormInputDescription:function(a){var b=this.getDescription(a);return b.style.marginLeft="10px",b.style.display="inline-block",b},getFormControl:function(a,b,c){var d=this._super(a,b,c);return"checkbox"===b.type?(d.style.lineHeight="25px",d.style.padding="3px 0"):d.style.padding="4px 0 8px 0",d},getDescription:function(a){var b=document.createElement("span");return b.style.fontSize=".8em",b.style.fontStyle="italic",b.textContent=a,b},getButtonHolder:function(){var a=document.createElement("div");return a.className="ui-buttonset",a.style.fontSize=".7em",a},getFormInputLabel:function(a){var b=document.createElement("label");return b.style.fontWeight="bold",b.style.display="block",b.textContent=a,b},getButton:function(a,b,c){var d=document.createElement("button");d.className="ui-button ui-widget ui-state-default ui-corner-all",b&&!a?(d.className+=" ui-button-icon-only",b.className+=" ui-button-icon-primary ui-icon-primary",d.appendChild(b)):b?(d.className+=" ui-button-text-icon-primary",b.className+=" ui-button-icon-primary ui-icon-primary",d.appendChild(b)):d.className+=" ui-button-text-only";var e=document.createElement("span");return e.className="ui-button-text",e.textContent=a||c||".",d.appendChild(e),d.setAttribute("title",c),d},setButtonText:function(a,b,c,d){a.innerHTML="",a.className="ui-button ui-widget ui-state-default ui-corner-all",c&&!b?(a.className+=" ui-button-icon-only",c.className+=" ui-button-icon-primary ui-icon-primary",a.appendChild(c)):c?(a.className+=" ui-button-text-icon-primary",c.className+=" ui-button-icon-primary ui-icon-primary",a.appendChild(c)):a.className+=" ui-button-text-only";var e=document.createElement("span");e.className="ui-button-text",e.textContent=b||d||".",a.appendChild(e),a.setAttribute("title",d)},getIndentedPanel:function(){var a=document.createElement("div");return a.className="ui-widget-content ui-corner-all",a.style.padding="1em 1.4em",a.style.marginBottom="20px",a},afterInputReady:function(a){a.controls||(a.controls=this.closest(a,".form-control"))},addInputError:function(a,b){a.controls&&(a.errmsg?a.errmsg.style.display="":(a.errmsg=document.createElement("div"),a.errmsg.className="ui-state-error",a.controls.appendChild(a.errmsg)),a.errmsg.textContent=b)},removeInputError:function(a){a.errmsg&&(a.errmsg.style.display="none")},markTabActive:function(a){a.className=a.className.replace(/\s*ui-widget-header/g,"")+" ui-state-active"},markTabInactive:function(a){a.className=a.className.replace(/\s*ui-state-active/g,"")+" ui-widget-header"}}),o.AbstractIconLib=a.extend({mapping:{collapse:"",expand:"","delete":"",edit:"",add:"",cancel:"",save:"",moveup:"",movedown:""},icon_prefix:"",getIconClass:function(a){return this.mapping[a]?this.icon_prefix+this.mapping[a]:null},getIcon:function(a){var b=this.getIconClass(a);if(!b)return null;var c=document.createElement("i");return c.className=b,c}}),o.defaults.iconlibs.bootstrap2=o.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-up","delete":"trash",edit:"pencil",add:"plus",cancel:"ban-circle",save:"ok",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"icon-"}),o.defaults.iconlibs.bootstrap3=o.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-right","delete":"remove",edit:"pencil",add:"plus",cancel:"floppy-remove",save:"floppy-saved",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"glyphicon glyphicon-"}),o.defaults.iconlibs.fontawesome3=o.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-right","delete":"remove",edit:"pencil",add:"plus",cancel:"ban-circle",save:"save",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"icon-"}),o.defaults.iconlibs.fontawesome4=o.AbstractIconLib.extend({mapping:{collapse:"caret-square-o-down",expand:"caret-square-o-right","delete":"times",edit:"pencil",add:"plus",cancel:"ban",save:"save",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"fa fa-"}),o.defaults.iconlibs.foundation2=o.AbstractIconLib.extend({mapping:{collapse:"minus",expand:"plus","delete":"remove",edit:"edit",add:"add-doc",cancel:"error",save:"checkmark",moveup:"up-arrow",movedown:"down-arrow"},icon_prefix:"foundicon-"}),o.defaults.iconlibs.foundation3=o.AbstractIconLib.extend({mapping:{collapse:"minus",expand:"plus","delete":"x",edit:"pencil",add:"page-add",cancel:"x-circle",save:"save",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"fi-"}),o.defaults.iconlibs.jqueryui=o.AbstractIconLib.extend({mapping:{collapse:"triangle-1-s",expand:"triangle-1-e","delete":"trash",edit:"pencil",add:"plusthick",cancel:"closethick",save:"disk",moveup:"arrowthick-1-n",movedown:"arrowthick-1-s"},icon_prefix:"ui-icon ui-icon-"}),o.defaults.templates.javascript=function(){return{compile:function(a){return Function("vars",a)
}}},o.defaults.theme="html",o.defaults.template="default",o.defaults.options={},o.defaults.translate=function(a,b){var c=o.defaults.languages[o.defaults.language];if(!c)throw"Unknown language "+o.defaults.language;var d=c[a]||o.defaults.languages[o.defaults.default_language][a];if("undefined"==typeof d)throw"Unknown translate string "+a;if(b)for(var e=0;e<b.length;e++)d=d.replace(new RegExp("\\{\\{"+e+"}}","g"),b[e]);return d},o.defaults.default_language="en",o.defaults.language=o.defaults.default_language,o.defaults.languages.en={error_notset:"Property must be set",error_notempty:"Value required",error_enum:"Value must be one of the enumerated values",error_anyOf:"Value must validate against at least one of the provided schemas",error_oneOf:"Value must validate against exactly one of the provided schemas. It currently validates against {{0}} of the schemas.",error_not:"Value must not validate against the provided schema",error_type_union:"Value must be one of the provided types",error_type:"Value must be of type {{0}}",error_disallow_union:"Value must not be one of the provided disallowed types",error_disallow:"Value must not be of type {{0}}",error_multipleOf:"Value must be a multiple of {{0}}",error_maximum_excl:"Value must be less than {{0}}",error_maximum_incl:"Value must at most {{0}}",error_minimum_excl:"Value must be greater than {{0}}",error_minimum_incl:"Value must be at least {{0}}",error_maxLength:"Value must be at most {{0}} characters long",error_minLength:"Value must be at least {{0}} characters long",error_pattern:"Value must match the provided pattern",error_additionalItems:"No additional items allowed in this array",error_maxItems:"Value must have at most {{0}} items",error_minItems:"Value must have at least {{0}} items",error_uniqueItems:"Array must have unique items",error_maxProperties:"Object must have at most {{0}} properties",error_minProperties:"Object must have at least {{0}} properties",error_required:"Object is missing the required property '{{0}}'",error_additional_properties:"No additional properties allowed, but property {{0}} is set",error_dependency:"Must have property {{0}}"};for(var p in o.defaults.editors)o.defaults.editors.hasOwnProperty(p)&&(o.defaults.editors[p].options=o.defaults.editors.options||{});o.defaults.resolvers.unshift(function(a){return"string"==typeof a.type?a.type:void 0}),o.defaults.resolvers.unshift(function(a){return"boolean"===a.type?"select":void 0}),o.defaults.resolvers.unshift(function(a){return"array"==a.type&&"table"==a.format?"table":void 0}),o.defaults.resolvers.unshift(function(a){return a.enumSource?"select":void 0}),o.defaults.resolvers.unshift(function(a){return!a.enum||"number"!==a.type&&"integer"!==a.type&&"string"!==a.type?void 0:"select"}),o.defaults.resolvers.unshift(function(a){return a.oneOf?"multiple":void 0}),o.defaults.resolvers.unshift(function(a){return j(a,"valueTemplate")||j(a,"constantValue")?"derived":void 0}),window.JSONEditor=o}();